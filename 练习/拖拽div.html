<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>拖拽div</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<style type="text/css" media="screen">
	*{
		margin: 0;
		padding: 0;
	}
	#box{
		position:absolute;
		width:200px;
		height:200px;
		background-color:red;
	}	
</style>
<script type="text/javascript">
	window.onload=function(){
		var oBox=document.getElementById("box");

		oBox.onclick=function(ev){
			var ev=ev||event;
			
			oBox.clone
		}

		oBox.onmousedown=function(ev){
			var ev=ev||event;

			var disX=ev.clientX-this.offsetLeft;
			var disY=ev.clientY-this.offsetTop;

			document.onmousemove=function(ev){
				var ev=ev||event;
				var cW=document.body.clientWidth||document.documentElement.clientWidth;
				var cH=document.body.clientHeight||document.documentElement.clientHeight;

				var l=ev.clientX-disX;
				var t=ev.clientY-disY;

				if(l<=50){
					l=0;
				}else if(l>cW-oBox.offsetWidth-50){
					l=cW-oBox.offsetWidth;
				}

				if(t<50){
					t=0;
				}else if(t>cH-oBox.offsetHeight-50){
					t=cH-oBox.offsetHeight;
				}

				oBox.style.left=l+"px";
				oBox.style.top=t+"px";
			}
			document.onmouseup=function(){
				document.onmousemove=null;
				document.onmouseup=null;
				//取消捕获
				oBox.releaseCapture&&oBox.releaseCapture();
			}
			//设置捕获比版本浏览器
			oBox.setCapture&&oBox.setCapture();
			//阻止浏览器的默认事件高版本浏览器
			return false;
		}
	}
</script>
</head>
<body>
    <div id="box">
    	
    </div>
</body>
</html>