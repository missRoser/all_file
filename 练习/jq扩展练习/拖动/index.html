<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>拖动</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<style type="text/css" media="screen">
	*{
		margin: 0;
		padding: 0;
	}
	#box{
		position: absolute;
		left: 0;
		top: 0;
		width: 200px;
		height: 200px;
		background-color: #41B0FF;
	}
</style>
<script type="text/javascript" src="../jq2.1.1.js"></script>
<script type="text/javascript">
	$(function(){
		$("#box").on("mousedown",function(ev){
			var disX=ev.clientX-$(this).offset().left;
			var disY=ev.clientY-$(this).offset().top;

			$(document).on("mousemove",function(ev){
				var disXx=ev.clientX-disX;
				var disYx=ev.clientY-disY;

				if(disXx<=0)
					disXx=0;
				else if(disXx>=$(window).width()-$("#box").width())
					disXx=$(window).width()-$("#box").width();

				if(disYx<=0)
					disYx=0;
				else if(disYx>=$(window).height()-$("#box").height())
					disYx=$(window).height()-$("#box").height();
				
				

				$("#box").css({"left":disXx,"top":disYx})
			})

			$(document).on("mouseup",function(){
				$(document).off("mousemove mouseup",null)
			})
			return false;
		});

		
	})
</script>
</head>
<body>
    <div id="box">
    	
    </div>
</body>
</html>